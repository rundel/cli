<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>ANSI function benchmarks • cli</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ANSI function benchmarks">
<meta name="robots" content="noindex">
<script defer data-domain="cli.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cli</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">3.6.3.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/faq.html">FAQ</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/semantic-cli.html">Building a Semantic CLI</a></li>
    <li><a class="dropdown-item" href="../articles/usethis-ui.html">From usethis::ui functions to cli</a></li>
    <li><a class="dropdown-item" href="../articles/pluralization.html">cli pluralization</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Progress bars</h6></li>
    <li><a class="dropdown-item" href="../articles/progress.html">Introduction to progress bars in cli</a></li>
    <li><a class="dropdown-item" href="../articles/progress-advanced.html">Advanced cli progress bars</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Customization</h6></li>
    <li><a class="dropdown-item" href="../articles/palettes.html">cli color palettes</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-lib/cli/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>ANSI function benchmarks</h1>
                        <h4 data-toc-skip class="author">Gábor
Csárdi</h4>
            
            <h4 data-toc-skip class="date">2024-08-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/r-lib/cli/blob/master/vignettes/ansi-benchmark.Rmd" class="external-link"><code>vignettes/ansi-benchmark.Rmd</code></a></small>
      <div class="d-none name"><code>ansi-benchmark.Rmd</code></div>
    </div>

    
    
<style type="text/css" scoped>
PRE.fansi SPAN {padding-top: .25em; padding-bottom: .25em};
</style>
<p>$output function (x, options) { hook.t(x, options[[paste0(“attr.”,
class)]], options[[paste0(“class.”, class)]]) } &lt;bytecode:
0x559dd7b400b8&gt; &lt;environment: 0x559dd8542838&gt;</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Often we can use the corresponding base R function as a baseline. We
also compare to the fansi package, where it is possible.</p>
</div>
<div class="section level2">
<h2 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h2>
<p>In cli the typical use case is short string scalars, but we run some
benchmarks longer strings and string vectors as well.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://cli.r-lib.org">cli</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/brodieG/fansi" class="external-link">fansi</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>cli.unicode <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>cli.num_colors <span class="op">=</span> <span class="fl">256</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ansi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/format_inline.html">format_inline</a></span><span class="op">(</span></span>
<span>  <span class="st">"{col_green(symbol$tick)} {.code print(x)} {.emph emphasised}"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plain</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vec_plain</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">vec_ansi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">vec_plain6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">6</span><span class="op">)</span></span>
<span><span class="va">vec_ansi6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">6</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">txt_plain</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">vec_plain</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span></span>
<span><span class="va">txt_ansi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">vec_ansi</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span>
<span>  <span class="st">"\U0001f477\u200d\u2640\ufe0f"</span>,</span>
<span>  <span class="st">"\U0001f477\U0001f3fb"</span>,</span>
<span>  <span class="st">"\U0001f477\u200d\u2640\ufe0f"</span>,</span>
<span>  <span class="st">"\U0001f477\U0001f3fb"</span>,</span>
<span>  <span class="st">"\U0001f477\U0001f3ff\u200d\u2640\ufe0f"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">vec_uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">uni</span>, <span class="fl">100</span><span class="op">)</span></span>
<span><span class="va">txt_uni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">vec_uni</span>, collapse <span class="op">=</span> <span class="st">" "</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="ansi-functions">ANSI functions<a class="anchor" aria-label="anchor" href="#ansi-functions"></a>
</h2>
<div class="section level3">
<h3 id="ansi_align">
<code>ansi_align()</code><a class="anchor" aria-label="anchor" href="#ansi_align"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_align.html">ansi_align</a></span><span class="op">(</span><span class="va">ansi</span>, width <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>  plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_align.html">ansi_align</a></span><span class="op">(</span><span class="va">plain</span>, width <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>, </span>
<span>  base  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">plain</span>, width <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 3 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ansi         44.7µs   47.5µs    20751.    98.5KB     18.8</span></span>
<span><span class="co">#&gt; 2 plain        44.4µs   47.4µs    20729.        0B     19.5</span></span>
<span><span class="co">#&gt; 3 base         11.3µs   12.6µs    77999.    48.4KB     23.4</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_align.html">ansi_align</a></span><span class="op">(</span><span class="va">ansi</span>, width <span class="op">=</span> <span class="fl">20</span>, align <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span>,</span>
<span>  plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_align.html">ansi_align</a></span><span class="op">(</span><span class="va">plain</span>, width <span class="op">=</span> <span class="fl">20</span>, align <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span>, </span>
<span>  base  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">plain</span>, width <span class="op">=</span> <span class="fl">20</span>, justify <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 3 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ansi         46.8µs   49.6µs    19679.        0B     21.1</span></span>
<span><span class="co">#&gt; 2 plain        45.9µs   49.2µs    20038.        0B     21.3</span></span>
<span><span class="co">#&gt; 3 base         13.6µs   14.8µs    66418.        0B     26.6</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_chartr">
<code>ansi_chartr()</code><a class="anchor" aria-label="anchor" href="#ansi_chartr"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_chartr</a></span><span class="op">(</span><span class="st">"abc"</span>, <span class="st">"XYZ"</span>, <span class="va">ansi</span><span class="op">)</span>,</span>
<span>  plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_chartr</a></span><span class="op">(</span><span class="st">"abc"</span>, <span class="st">"XYZ"</span>, <span class="va">plain</span><span class="op">)</span>,</span>
<span>  base  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">chartr</a></span><span class="op">(</span><span class="st">"abc"</span>, <span class="st">"XYZ"</span>, <span class="va">plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 3 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ansi        110.6µs 115.87µs     8520.   75.07KB     14.6</span></span>
<span><span class="co">#&gt; 2 plain        88.6µs  92.84µs    10626.    8.73KB     12.5</span></span>
<span><span class="co">#&gt; 3 base          1.9µs   2.04µs   475781.        0B     47.6</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_columns">
<code>ansi_columns()</code><a class="anchor" aria-label="anchor" href="#ansi_columns"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_columns.html">ansi_columns</a></span><span class="op">(</span><span class="va">vec_ansi6</span>, width <span class="op">=</span> <span class="fl">120</span><span class="op">)</span>,</span>
<span>  plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_columns.html">ansi_columns</a></span><span class="op">(</span><span class="va">vec_plain6</span>, width <span class="op">=</span> <span class="fl">120</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 ansi          327µs    340µs     2914.   33.17KB     19.0</span></span>
<span><span class="co">#&gt; 2 plain         326µs    340µs     2916.    1.09KB     19.0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_has_any">
<code>ansi_has_any()</code><a class="anchor" aria-label="anchor" href="#ansi_has_any"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_has_any.html">ansi_has_any</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/has_sgr.html" class="external-link">has_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 12 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi          5.62µs   6.16µs   158976.    8.02KB     15.9</span></span>
<span><span class="co">#&gt;  2 fansi_ansi       30.97µs   33.3µs    29570.    4.18KB     26.6</span></span>
<span><span class="co">#&gt;  3 cli_plain          5.7µs   6.25µs   157011.        0B     15.7</span></span>
<span><span class="co">#&gt;  4 fansi_plain      30.47µs   32.6µs    30250.      688B     24.2</span></span>
<span><span class="co">#&gt;  5 cli_vec_ansi      7.01µs   7.38µs   133110.      448B     26.6</span></span>
<span><span class="co">#&gt;  6 fansi_vec_ansi   39.54µs  41.49µs    23684.    5.02KB     19.0</span></span>
<span><span class="co">#&gt;  7 cli_vec_plain     7.51µs   7.99µs   123055.      448B     24.6</span></span>
<span><span class="co">#&gt;  8 fansi_vec_plain  38.89µs  40.78µs    24120.    5.02KB     19.3</span></span>
<span><span class="co">#&gt;  9 cli_txt_ansi      5.63µs   6.06µs   161921.        0B     16.2</span></span>
<span><span class="co">#&gt; 10 fansi_txt_ansi   30.68µs  32.38µs    30413.      688B     24.3</span></span>
<span><span class="co">#&gt; 11 cli_txt_plain     6.55µs   6.91µs   142135.        0B     28.4</span></span>
<span><span class="co">#&gt; 12 fansi_txt_plain  39.18µs  41.15µs    23974.    5.02KB     19.2</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_html">
<code>ansi_html()</code><a class="anchor" aria-label="anchor" href="#ansi_html"></a>
</h3>
<p>This is typically used with longer text.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_html.html">ansi_html</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  fansi <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/sgr_to_html.html" class="external-link">sgr_to_html</a></span><span class="op">(</span><span class="va">txt_ansi</span>, classes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli          65.2µs     67µs    14585.    28.8KB     8.19</span></span>
<span><span class="co">#&gt; 2 fansi       122.5µs    125µs     7938.    55.3KB     8.18</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_nchar">
<code>ansi_nchar()</code><a class="anchor" aria-label="anchor" href="#ansi_nchar"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi          6.56µs    7.1µs   138552.        0B    13.9 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi       91.81µs   95.6µs    10326.   31.85KB    16.7 </span></span>
<span><span class="co">#&gt;  3 base_ansi       891.04ns 922.13ns  1024984.        0B   103.  </span></span>
<span><span class="co">#&gt;  4 cli_plain          6.5µs   6.95µs   141547.        0B    14.2 </span></span>
<span><span class="co">#&gt;  5 fansi_plain      91.39µs  95.27µs    10315.      688B    16.8 </span></span>
<span><span class="co">#&gt;  6 base_plain         812ns 852.04ns  1110950.        0B     0   </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi     27.86µs  28.96µs    34220.      448B     6.85</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi  112.82µs 116.57µs     8476.    5.02KB    14.6 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi    14.83µs   14.9µs    66660.      448B     0   </span></span>
<span><span class="co">#&gt; 10 cli_vec_plain    26.34µs  27.02µs    36687.      448B     7.34</span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain 102.33µs  106.2µs     9287.    5.02KB    14.6 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain    8.13µs   8.21µs   120721.      448B     0   </span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi      27.8µs  28.82µs    34396.        0B     6.88</span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi  104.62µs 108.82µs     9078.      688B    14.6 </span></span>
<span><span class="co">#&gt; 15 base_txt_ansi    13.24µs  14.35µs    69156.        0B     0   </span></span>
<span><span class="co">#&gt; 16 cli_txt_plain    26.03µs  26.66µs    36403.        0B     7.28</span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain  93.89µs  98.02µs    10059.      688B    14.6 </span></span>
<span><span class="co">#&gt; 18 base_txt_plain     8.4µs   8.93µs   111501.        0B    11.2</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">plain</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">vec_ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">vec_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">txt_ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_nchar.html">ansi_nchar</a></span><span class="op">(</span><span class="va">txt_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/nchar_sgr.html" class="external-link">nchar_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_plain</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi           8.1µs   8.79µs   111898.        0B    22.4 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi       92.95µs   97.3µs    10144.      688B    16.7 </span></span>
<span><span class="co">#&gt;  3 base_ansi         1.21µs   1.25µs   756280.        0B     0   </span></span>
<span><span class="co">#&gt;  4 cli_plain         8.09µs   8.75µs   112366.        0B    33.7 </span></span>
<span><span class="co">#&gt;  5 fansi_plain      92.33µs  96.47µs    10066.      688B    16.6 </span></span>
<span><span class="co">#&gt;  6 base_plain      992.09ns   1.03µs   930945.        0B     0   </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi     33.89µs  34.58µs    28682.      448B     5.74</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi  120.22µs 123.35µs     7929.    5.02KB    12.4 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi    41.76µs  42.06µs    23606.      448B     0   </span></span>
<span><span class="co">#&gt; 10 cli_vec_plain    33.05µs  33.86µs    28877.      448B     8.67</span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain 109.18µs 112.77µs     8754.    5.02KB    12.5 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain   21.38µs  21.54µs    46170.      448B     4.62</span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi     34.26µs  34.85µs    28457.        0B     5.69</span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi  110.57µs 114.89µs     8584.      688B    12.4 </span></span>
<span><span class="co">#&gt; 15 base_txt_ansi    42.84µs  44.98µs    22250.        0B     2.23</span></span>
<span><span class="co">#&gt; 16 cli_txt_plain    32.95µs  33.66µs    29459.        0B     5.89</span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain  99.22µs 103.38µs     9552.      688B    14.5 </span></span>
<span><span class="co">#&gt; 18 base_txt_plain   23.82µs  24.74µs    40211.        0B     4.02</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_simplify">
<code>ansi_simplify()</code><a class="anchor" aria-label="anchor" href="#ansi_simplify"></a>
</h3>
<p>Nothing to compare here.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi      <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain     <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi  <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain <span class="op">=</span> <span class="fu"><a href="../reference/ansi_simplify.html">ansi_simplify</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression         min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt;    &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli_ansi        6.62µs   7.13µs   137590.        0B    13.8 </span></span>
<span><span class="co">#&gt; 2 cli_plain       6.09µs   6.55µs   149787.        0B    30.0 </span></span>
<span><span class="co">#&gt; 3 cli_vec_ansi   39.32µs  40.23µs    24467.      848B     4.89</span></span>
<span><span class="co">#&gt; 4 cli_vec_plain  10.06µs  10.68µs    92452.      848B     9.25</span></span>
<span><span class="co">#&gt; 5 cli_txt_ansi    37.4µs  38.64µs    25691.        0B     5.14</span></span>
<span><span class="co">#&gt; 6 cli_txt_plain   7.04µs   7.55µs   130198.        0B    13.0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_strip">
<code>ansi_strip()</code><a class="anchor" aria-label="anchor" href="#ansi_strip"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strip.html">ansi_strip</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strip_sgr.html" class="external-link">strip_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 12 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi          11.7µs   12.4µs    79077.        0B     23.7</span></span>
<span><span class="co">#&gt;  2 fansi_ansi        28.4µs     30µs    32883.      688B     23.0</span></span>
<span><span class="co">#&gt;  3 cli_plain         11.4µs   12.2µs    80724.        0B     32.3</span></span>
<span><span class="co">#&gt;  4 fansi_plain       27.9µs   29.3µs    33394.      688B     23.4</span></span>
<span><span class="co">#&gt;  5 cli_vec_ansi      20.2µs     21µs    46449.      848B     13.9</span></span>
<span><span class="co">#&gt;  6 fansi_vec_ansi    53.2µs   55.5µs    17836.    5.41KB     14.7</span></span>
<span><span class="co">#&gt;  7 cli_vec_plain     14.2µs     15µs    65605.      848B     19.7</span></span>
<span><span class="co">#&gt;  8 fansi_vec_plain   36.5µs   38.5µs    25577.    4.59KB     20.5</span></span>
<span><span class="co">#&gt;  9 cli_txt_ansi        20µs   20.9µs    47214.        0B     14.2</span></span>
<span><span class="co">#&gt; 10 fansi_txt_ansi    43.7µs   45.8µs    21334.    5.12KB     14.9</span></span>
<span><span class="co">#&gt; 11 cli_txt_plain     12.3µs     13µs    75504.        0B     30.2</span></span>
<span><span class="co">#&gt; 12 fansi_txt_plain   28.8µs   30.4µs    32393.      688B     22.7</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_strsplit">
<code>ansi_strsplit()</code><a class="anchor" aria-label="anchor" href="#ansi_strsplit"></a>
</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strsplit.html">ansi_strsplit</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strsplit_sgr.html" class="external-link">strsplit_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="st">"i"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi        146.18µs 151.45µs     6457.  103.31KB    18.9 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi      126.56µs 131.85µs     7469.  102.13KB    19.3 </span></span>
<span><span class="co">#&gt;  3 base_ansi          4.1µs   4.42µs   223527.      224B    22.4 </span></span>
<span><span class="co">#&gt;  4 cli_plain       144.79µs 149.01µs     6620.    8.09KB    18.8 </span></span>
<span><span class="co">#&gt;  5 fansi_plain     124.83µs 129.37µs     7554.    9.62KB    19.0 </span></span>
<span><span class="co">#&gt;  6 base_plain        3.62µs   3.88µs   252408.        0B    25.2 </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi      7.22ms   7.35ms      136.  823.77KB    24.7 </span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi    1.03ms   1.06ms      918.  846.81KB    19.4 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi   159.52µs 168.48µs     5781.    22.7KB     2.03</span></span>
<span><span class="co">#&gt; 10 cli_vec_plain     7.14ms   7.27ms      137.  823.77KB    28.4 </span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain 968.67µs   1.01ms      982.  845.98KB    19.7 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain  113.74µs 117.47µs     8392.      848B     2.02</span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi      3.23ms   3.33ms      300.    63.6KB     2.02</span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi    1.53ms   1.57ms      632.   35.05KB     2.02</span></span>
<span><span class="co">#&gt; 15 base_txt_ansi   136.59µs 144.51µs     6919.   18.47KB     2.02</span></span>
<span><span class="co">#&gt; 16 cli_txt_plain     2.38ms   2.43ms      411.    63.6KB     0   </span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain 511.37µs 522.73µs     1893.    30.6KB     6.15</span></span>
<span><span class="co">#&gt; 18 base_txt_plain   89.83µs   92.3µs    10382.   11.05KB     2.02</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_strtrim">
<code>ansi_strtrim()</code><a class="anchor" aria-label="anchor" href="#ansi_strtrim"></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strtrim.html">ansi_strtrim</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strtrim_sgr.html" class="external-link">strtrim_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strtrim.html" class="external-link">strtrim</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi         97.68µs 101.78µs     9666.   32.23KB     21.0</span></span>
<span><span class="co">#&gt;  2 fansi_ansi       54.78µs  57.84µs    16880.   31.43KB     23.3</span></span>
<span><span class="co">#&gt;  3 base_ansi         1.04µs   1.08µs   892489.     4.2KB      0  </span></span>
<span><span class="co">#&gt;  4 cli_plain        94.02µs  98.15µs    10026.        0B     21.0</span></span>
<span><span class="co">#&gt;  5 fansi_plain      54.01µs  57.25µs    17116.      872B     23.6</span></span>
<span><span class="co">#&gt;  6 base_plain      982.08ns   1.03µs   932616.        0B      0  </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi    232.65µs  238.2µs     4131.   16.73KB     10.3</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi   124.2µs 127.75µs     7710.    5.59KB     10.3</span></span>
<span><span class="co">#&gt;  9 base_vec_ansi     35.2µs  35.56µs    27990.      848B      0  </span></span>
<span><span class="co">#&gt; 10 cli_vec_plain   177.27µs 183.56µs     5360.   16.73KB     11.9</span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain 117.79µs 120.83µs     8187.    5.59KB     12.5</span></span>
<span><span class="co">#&gt; 12 base_vec_plain   30.78µs  30.94µs    32110.      848B      0  </span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi    104.02µs 107.97µs     9134.        0B     21.1</span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi   53.99µs   56.9µs    17275.      872B     21.2</span></span>
<span><span class="co">#&gt; 15 base_txt_ansi     1.07µs   1.12µs   861074.        0B     86.1</span></span>
<span><span class="co">#&gt; 16 cli_txt_plain    95.75µs   99.5µs     9937.        0B     21.0</span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain  53.85µs  57.03µs    17329.      872B     23.4</span></span>
<span><span class="co">#&gt; 18 base_txt_plain    1.01µs   1.06µs   914043.        0B      0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_strwrap">
<code>ansi_strwrap()</code><a class="anchor" aria-label="anchor" href="#ansi_strwrap"></a>
</h3>
<p>This function is most useful for longer text, but it is often called
for short text in cli, so it makes sense to benchmark that as well.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_strwrap.html">ansi_strwrap</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/strwrap_sgr.html" class="external-link">strwrap_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi        317.09µs 327.59µs    2983.   266.59KB     19.2</span></span>
<span><span class="co">#&gt;  2 fansi_ansi       97.94µs 103.34µs    9461.    10.29KB     21.2</span></span>
<span><span class="co">#&gt;  3 base_ansi        38.51µs  40.75µs   23967.         0B     19.2</span></span>
<span><span class="co">#&gt;  4 cli_plain       197.52µs 204.41µs    4800.         0B     18.9</span></span>
<span><span class="co">#&gt;  5 fansi_plain       96.9µs  102.2µs    9559.       872B     21.2</span></span>
<span><span class="co">#&gt;  6 base_plain       32.11µs  34.11µs   28200.         0B     19.8</span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi     32.37ms  32.48ms      30.6    2.48KB     61.1</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi  240.94µs 246.39µs    4001.     7.25KB     10.3</span></span>
<span><span class="co">#&gt;  9 base_vec_ansi     2.15ms   2.22ms     449.    48.18KB     25.6</span></span>
<span><span class="co">#&gt; 10 cli_vec_plain    19.66ms  19.87ms      50.3    2.48KB     28.3</span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain 202.04µs 207.07µs    4759.     6.42KB     14.7</span></span>
<span><span class="co">#&gt; 12 base_vec_plain    1.57ms   1.61ms     617.     47.4KB     24.1</span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi     22.98ms  23.28ms      42.9  507.59KB     10.1</span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi  229.26µs  234.9µs    4209.     6.77KB     10.3</span></span>
<span><span class="co">#&gt; 15 base_txt_ansi     2.04ms   2.08ms     477.   582.06KB     13.2</span></span>
<span><span class="co">#&gt; 16 cli_txt_plain     1.63ms   1.66ms     597.   369.84KB     10.7</span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain 183.41µs 188.74µs    5231.     2.51KB     12.5</span></span>
<span><span class="co">#&gt; 18 base_txt_plain     1.3ms   1.33ms     748.   367.31KB     13.1</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_substr">
<code>ansi_substr()</code><a class="anchor" aria-label="anchor" href="#ansi_substr"></a>
</h3>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_ansi      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_plain     <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_vec_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">vec_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_vec_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">vec_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_txt_ansi  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">txt_ansi</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_substr.html">ansi_substr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  fansi_txt_plain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/fansi/man/substr_sgr.html" class="external-link">substr_sgr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">txt_plain</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 18 × 6</span></span>
<span><span class="co">#&gt;    expression           min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;      &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi          6.31µs   6.85µs   142240.   23.82KB    42.7 </span></span>
<span><span class="co">#&gt;  2 fansi_ansi       76.88µs  80.72µs    12207.   28.48KB    21.2 </span></span>
<span><span class="co">#&gt;  3 base_ansi            1µs   1.05µs   901460.        0B     0   </span></span>
<span><span class="co">#&gt;  4 cli_plain         6.26µs   6.84µs   142776.        0B    28.6 </span></span>
<span><span class="co">#&gt;  5 fansi_plain       76.8µs   81.1µs    12117.    1.98KB    21.2 </span></span>
<span><span class="co">#&gt;  6 base_plain      962.06ns   1.02µs   919427.        0B    92.0 </span></span>
<span><span class="co">#&gt;  7 cli_vec_ansi     27.05µs  28.02µs    35363.     1.7KB     7.07</span></span>
<span><span class="co">#&gt;  8 fansi_vec_ansi  113.79µs 117.31µs     8386.    8.86KB    14.7 </span></span>
<span><span class="co">#&gt;  9 base_vec_ansi     5.91µs   6.02µs   164194.      848B     0   </span></span>
<span><span class="co">#&gt; 10 cli_vec_plain    22.69µs  23.91µs    41391.     1.7KB    12.4 </span></span>
<span><span class="co">#&gt; 11 fansi_vec_plain  107.9µs  112.1µs     8786.    8.86KB    14.8 </span></span>
<span><span class="co">#&gt; 12 base_vec_plain    5.61µs   5.78µs   170816.      848B     0   </span></span>
<span><span class="co">#&gt; 13 cli_txt_ansi      6.31µs   6.82µs   142891.        0B    28.6 </span></span>
<span><span class="co">#&gt; 14 fansi_txt_ansi   76.59µs  80.76µs    12178.    1.98KB    23.4 </span></span>
<span><span class="co">#&gt; 15 base_txt_ansi     5.16µs   5.21µs   189234.        0B     0   </span></span>
<span><span class="co">#&gt; 16 cli_txt_plain     6.97µs   7.63µs   128724.        0B    25.8 </span></span>
<span><span class="co">#&gt; 17 fansi_txt_plain  75.73µs  78.69µs    12524.    1.98KB    21.2 </span></span>
<span><span class="co">#&gt; 18 base_txt_plain    3.38µs   3.44µs   286405.        0B    28.6</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_tolower-ansi_toupper">
<code>ansi_tolower()</code> , <code>ansi_toupper()</code><a class="anchor" aria-label="anchor" href="#ansi_tolower-ansi_toupper"></a>
</h3>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_toupper.html">ansi_tolower</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 12 × 6</span></span>
<span><span class="co">#&gt;    expression          min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;     &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi       104.66µs 108.19µs    9138.    11.88KB    16.8 </span></span>
<span><span class="co">#&gt;  2 base_ansi        1.36µs    1.4µs  705320.         0B     0   </span></span>
<span><span class="co">#&gt;  3 cli_plain        84.7µs  87.87µs   11232.     8.73KB    14.6 </span></span>
<span><span class="co">#&gt;  4 base_plain       1.04µs   1.08µs  907992.         0B     0   </span></span>
<span><span class="co">#&gt;  5 cli_vec_ansi     3.93ms   4.04ms     246.   838.77KB    28.9 </span></span>
<span><span class="co">#&gt;  6 base_vec_ansi   78.09µs  78.89µs   12628.       848B     0   </span></span>
<span><span class="co">#&gt;  7 cli_vec_plain    2.21ms   2.26ms     439.    816.9KB    30.2 </span></span>
<span><span class="co">#&gt;  8 base_vec_plain  47.12µs   48.1µs   20727.       848B     0   </span></span>
<span><span class="co">#&gt;  9 cli_txt_ansi    12.83ms  12.95ms      77.0  114.42KB     6.60</span></span>
<span><span class="co">#&gt; 10 base_txt_ansi   78.78µs  79.04µs   12589.         0B     0   </span></span>
<span><span class="co">#&gt; 11 cli_txt_plain  251.85µs 256.68µs    3842.    18.16KB     6.12</span></span>
<span><span class="co">#&gt; 12 base_txt_plain  44.18µs  45.57µs   21997.         0B     0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="ansi_trimws">
<code>ansi_trimws()</code><a class="anchor" aria-label="anchor" href="#ansi_trimws"></a>
</h3>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli_ansi        <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  base_ansi       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">ansi</span><span class="op">)</span>,</span>
<span>  cli_plain       <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  base_plain      <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">plain</span><span class="op">)</span>,</span>
<span>  cli_vec_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  base_vec_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">vec_ansi</span><span class="op">)</span>,</span>
<span>  cli_vec_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  base_vec_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">vec_plain</span><span class="op">)</span>,</span>
<span>  cli_txt_ansi    <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  base_txt_ansi   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">txt_ansi</span><span class="op">)</span>,</span>
<span>  cli_txt_plain   <span class="op">=</span> <span class="fu"><a href="../reference/ansi_trimws.html">ansi_trimws</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  base_txt_plain  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="va">txt_plain</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 12 × 6</span></span>
<span><span class="co">#&gt;    expression          min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;    &lt;bch:expr&gt;     &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 cli_ansi         72.7µs   76.6µs    12860.        0B    21.1 </span></span>
<span><span class="co">#&gt;  2 base_ansi        16.5µs   17.4µs    56538.        0B    17.0 </span></span>
<span><span class="co">#&gt;  3 cli_plain        72.1µs   75.7µs    13028.        0B    23.2 </span></span>
<span><span class="co">#&gt;  4 base_plain       16.4µs   17.4µs    56575.        0B    17.0 </span></span>
<span><span class="co">#&gt;  5 cli_vec_ansi    158.4µs  162.5µs     6063.     7.2KB    10.4 </span></span>
<span><span class="co">#&gt;  6 base_vec_ansi    54.6µs   58.9µs    16811.    1.66KB     6.11</span></span>
<span><span class="co">#&gt;  7 cli_vec_plain   144.6µs  148.9µs     6634.     7.2KB    10.3 </span></span>
<span><span class="co">#&gt;  8 base_vec_plain   47.8µs   52.5µs    18791.    1.66KB     8.20</span></span>
<span><span class="co">#&gt;  9 cli_txt_ansi    137.5µs  141.7µs     6975.        0B    10.3 </span></span>
<span><span class="co">#&gt; 10 base_txt_ansi    37.6µs   38.8µs    25547.        0B    10.2 </span></span>
<span><span class="co">#&gt; 11 cli_txt_plain   121.5µs  125.2µs     7890.        0B    12.4 </span></span>
<span><span class="co">#&gt; 12 base_txt_plain   33.2µs   34.5µs    28553.        0B    11.4</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="utf-8-functions">UTF-8 functions<a class="anchor" aria-label="anchor" href="#utf-8-functions"></a>
</h2>
<div class="section level3">
<h3 id="utf8_nchar">
<code>utf8_nchar()</code><a class="anchor" aria-label="anchor" href="#utf8_nchar"></a>
</h3>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli        <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">uni</span>, type <span class="op">=</span> <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  base       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  cli_vec    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, type <span class="op">=</span> <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  base_vec   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  cli_txt    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, type <span class="op">=</span> <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  base_txt   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli          7.92µs   8.65µs   113277.    12.3KB    22.7 </span></span>
<span><span class="co">#&gt; 2 base       881.03ns 922.13ns  1016132.        0B     0   </span></span>
<span><span class="co">#&gt; 3 cli_vec     24.25µs  24.92µs    39524.      448B     7.91</span></span>
<span><span class="co">#&gt; 4 base_vec    11.77µs  12.02µs    82611.      448B     0   </span></span>
<span><span class="co">#&gt; 5 cli_txt     24.98µs  25.54µs    38852.        0B    11.7 </span></span>
<span><span class="co">#&gt; 6 base_txt    12.84µs  12.89µs    77010.        0B     0</span></span></code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli        <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">uni</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">uni</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_vec    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_vec   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  cli_txt    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, type <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  base_txt   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="st">"width"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli          7.86µs   8.41µs   116966.        0B    23.4 </span></span>
<span><span class="co">#&gt; 2 base         1.25µs   1.31µs   737128.        0B    73.7 </span></span>
<span><span class="co">#&gt; 3 cli_vec     28.63µs  29.36µs    33198.      448B     6.64</span></span>
<span><span class="co">#&gt; 4 base_vec    45.58µs  47.25µs    21142.      448B     0   </span></span>
<span><span class="co">#&gt; 5 cli_txt     29.34µs  30.64µs    32357.        0B     6.47</span></span>
<span><span class="co">#&gt; 6 base_txt    80.56µs  82.35µs    12055.        0B     0</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli        <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">uni</span>, type <span class="op">=</span> <span class="st">"codepoints"</span><span class="op">)</span>,</span>
<span>  base       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  cli_vec    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, type <span class="op">=</span> <span class="st">"codepoints"</span><span class="op">)</span>,</span>
<span>  base_vec   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  cli_txt    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_nchar.html">utf8_nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, type <span class="op">=</span> <span class="st">"codepoints"</span><span class="op">)</span>,</span>
<span>  base_txt   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="st">"chars"</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli          8.62µs   9.21µs   107158.        0B     21.4</span></span>
<span><span class="co">#&gt; 2 base       882.08ns 922.13ns  1023488.        0B      0  </span></span>
<span><span class="co">#&gt; 3 cli_vec     19.89µs  20.54µs    48060.      448B     14.4</span></span>
<span><span class="co">#&gt; 4 base_vec    11.74µs     12µs    75761.      448B      0  </span></span>
<span><span class="co">#&gt; 5 cli_txt     20.62µs  21.26µs    44304.        0B     13.3</span></span>
<span><span class="co">#&gt; 6 base_txt    12.82µs  12.88µs    77025.        0B      0</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="utf8_substr">
<code>utf8_substr()</code><a class="anchor" aria-label="anchor" href="#utf8_substr"></a>
</h3>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bench</span><span class="fu">::</span><span class="fu"><a href="http://bench.r-lib.org/reference/mark.html" class="external-link">mark</a></span><span class="op">(</span></span>
<span>  cli        <span class="op">=</span> <span class="fu"><a href="../reference/utf8_substr.html">utf8_substr</a></span><span class="op">(</span><span class="va">uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_vec    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_substr.html">utf8_substr</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_vec   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">vec_uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  cli_txt    <span class="op">=</span> <span class="fu"><a href="../reference/utf8_substr.html">utf8_substr</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  base_txt   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">txt_uni</span>, <span class="fl">2</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  check <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; # A tibble: 6 × 6</span></span>
<span><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 cli          5.99µs   6.44µs   151871.    21.1KB    30.4 </span></span>
<span><span class="co">#&gt; 2 base            1µs   1.06µs   898828.        0B    89.9 </span></span>
<span><span class="co">#&gt; 3 cli_vec     29.59µs  30.35µs    32606.     1.7KB     6.52</span></span>
<span><span class="co">#&gt; 4 base_vec     7.72µs   7.91µs   125278.      848B     0   </span></span>
<span><span class="co">#&gt; 5 cli_txt      5.98µs   6.45µs   152367.        0B    30.5 </span></span>
<span><span class="co">#&gt; 6 base_txt     5.89µs   5.94µs   166250.        0B    16.6</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sessioninfo</span><span class="fu">::</span><span class="fu"><a href="https://r-lib.github.io/sessioninfo/reference/session_info.html" class="external-link">session_info</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre class="fansi fansi-output"><code><span><span class="co">#&gt; ─ Session info ─────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt;  setting  value</span></span>
<span><span class="co">#&gt;  version  R version 4.4.1 (2024-06-14)</span></span>
<span><span class="co">#&gt;  os       Ubuntu 22.04.4 LTS</span></span>
<span><span class="co">#&gt;  system   x86_64, linux-gnu</span></span>
<span><span class="co">#&gt;  ui       X11</span></span>
<span><span class="co">#&gt;  language en</span></span>
<span><span class="co">#&gt;  collate  C.UTF-8</span></span>
<span><span class="co">#&gt;  ctype    C.UTF-8</span></span>
<span><span class="co">#&gt;  tz       UTC</span></span>
<span><span class="co">#&gt;  date     2024-08-15</span></span>
<span><span class="co">#&gt;  pandoc   3.1.11 @ /opt/hostedtoolcache/pandoc/3.1.11/x64/ (via rmarkdown)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ─ Packages ─────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt;  package     * version    date (UTC) lib source</span></span>
<span><span class="co">#&gt;  bench         1.1.3      2023-05-04 [1] RSPM</span></span>
<span><span class="co">#&gt;  bslib         0.8.0      2024-07-29 [1] RSPM</span></span>
<span><span class="co">#&gt;  cachem        1.1.0      2024-05-16 [1] RSPM</span></span>
<span><span class="co">#&gt;  cli         * 3.6.3.9000 2024-08-15 [1] local</span></span>
<span><span class="co">#&gt;  codetools     0.2-20     2024-03-31 [3] CRAN (R 4.4.1)</span></span>
<span><span class="co">#&gt;  desc          1.4.3      2023-12-10 [1] RSPM</span></span>
<span><span class="co">#&gt;  digest        0.6.36     2024-06-23 [1] RSPM</span></span>
<span><span class="co">#&gt;  evaluate      0.24.0     2024-06-10 [1] RSPM</span></span>
<span><span class="co">#&gt;  fansi       * 1.0.6      2023-12-08 [1] RSPM</span></span>
<span><span class="co">#&gt;  fastmap       1.2.0      2024-05-15 [1] RSPM</span></span>
<span><span class="co">#&gt;  fs            1.6.4      2024-04-25 [1] RSPM</span></span>
<span><span class="co">#&gt;  glue          1.7.0      2024-01-09 [1] RSPM</span></span>
<span><span class="co">#&gt;  htmltools     0.5.8.1    2024-04-04 [1] RSPM</span></span>
<span><span class="co">#&gt;  htmlwidgets   1.6.4      2023-12-06 [1] RSPM</span></span>
<span><span class="co">#&gt;  jquerylib     0.1.4      2021-04-26 [1] RSPM</span></span>
<span><span class="co">#&gt;  jsonlite      1.8.8      2023-12-04 [1] RSPM</span></span>
<span><span class="co">#&gt;  knitr         1.48       2024-07-07 [1] RSPM</span></span>
<span><span class="co">#&gt;  lifecycle     1.0.4      2023-11-07 [1] RSPM</span></span>
<span><span class="co">#&gt;  magrittr      2.0.3      2022-03-30 [1] RSPM</span></span>
<span><span class="co">#&gt;  pillar        1.9.0      2023-03-22 [1] RSPM</span></span>
<span><span class="co">#&gt;  pkgconfig     2.0.3      2019-09-22 [1] RSPM</span></span>
<span><span class="co">#&gt;  pkgdown       2.1.0      2024-07-06 [1] any (@2.1.0)</span></span>
<span><span class="co">#&gt;  profmem       0.6.0      2020-12-13 [1] RSPM</span></span>
<span><span class="co">#&gt;  R6            2.5.1      2021-08-19 [1] RSPM</span></span>
<span><span class="co">#&gt;  ragg          1.3.2      2024-05-15 [1] RSPM</span></span>
<span><span class="co">#&gt;  rlang         1.1.4      2024-06-04 [1] RSPM</span></span>
<span><span class="co">#&gt;  rmarkdown     2.27       2024-05-17 [1] RSPM</span></span>
<span><span class="co">#&gt;  sass          0.4.9      2024-03-15 [1] RSPM</span></span>
<span><span class="co">#&gt;  sessioninfo   1.2.2      2021-12-06 [1] RSPM</span></span>
<span><span class="co">#&gt;  systemfonts   1.1.0      2024-05-15 [1] RSPM</span></span>
<span><span class="co">#&gt;  textshaping   0.4.0      2024-05-24 [1] RSPM</span></span>
<span><span class="co">#&gt;  tibble        3.2.1      2023-03-20 [1] RSPM</span></span>
<span><span class="co">#&gt;  utf8          1.2.4      2023-10-22 [1] RSPM</span></span>
<span><span class="co">#&gt;  vctrs         0.6.5      2023-12-01 [1] RSPM</span></span>
<span><span class="co">#&gt;  xfun          0.46       2024-07-18 [1] RSPM</span></span>
<span><span class="co">#&gt;  yaml          2.3.10     2024-07-26 [1] RSPM</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  [1] /home/runner/work/_temp/Library</span></span>
<span><span class="co">#&gt;  [2] /opt/R/4.4.1/lib/R/site-library</span></span>
<span><span class="co">#&gt;  [3] /opt/R/4.4.1/lib/R/library</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────────────────────</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

  </div></footer>
</body>
</html>
